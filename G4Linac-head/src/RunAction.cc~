#include "RunAction.hh"
#include "RunMessenger.hh"
#include "G4Run.hh"
#include "G4UImanager.hh"
#include "G4VVisManager.hh"
#include "G4ios.hh"
#include "G4RunManager.hh"
#include "G4IAEAphspWriter.hh"

RunAction::RunAction()
{
messenger = new RunMessenger(this); 
}


RunAction::~RunAction()
{
 delete messenger;
}


void RunAction::BeginOfRunAction(const G4Run* aRun)
{

G4IAEAphspWriter* IAEAWriter = G4IAEAphspWriter::GetInstance();
IAEAWriter->SetZStop(this->PhspZstop); 
IAEAWriter->SetFileName(this->PhspName);
G4IAEAphspWriter::GetInstance()->BeginOfRunAction(aRun);
G4cout << "### Run " << aRun->GetRunID() << " start." << G4endl;
G4cout << "### Run " << aRun->GetNumberOfEventToBeProcessed()<< " evenement." << G4endl; 
}


void RunAction::EndOfRunAction(const G4Run* aRun)
{

G4IAEAphspWriter* IAEAWriter = G4IAEAphspWriter::GetInstance();
IAEAWriter->EndOfRunAction(aRun);
  }
 void RunAction::SetPhspZstop(G4double PhspZstop)
{ 
this->PhspZstop=PhspZstop;
}
 void RunAction::SetPhspName(const G4String& PhspName)
{ 
this->PhspName=PhspName;
}

